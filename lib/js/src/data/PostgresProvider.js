// Generated by BUCKLESCRIPT VERSION 2.0.0, PLEASE EDIT WITH CARE
'use strict'

var Make = require('knex')
var Config = require('../Config.js')

function make () {
  return new Promise(function (resolve, reject) {
    var knex = Make({
      client: 'pg',
      connection: {
        user: Config.Database[/* username */ 3],
        password: Config.Database[/* password */ 4],
        host: Config.Database[/* hostname */ 5],
        port: Config.Database[/* port */ 6],
        database: Config.Database[/* name */ 2],
      },
      pool: {
        min: Config.Database[/* poolMin */ 7],
        max: Config.Database[/* poolMax */ 8],
        idleTimeoutMillis: Config.Database[/* poolIdle */ 9],
      },
      acquireConnectionTimeout: 2000,
    })
    var $$interface = /* record */ [
      /* fromTable */ function (name) {
        return knex(name, '')
      },
    ]
    knex
      .raw('select now()')
      .then(function (result) {
        resolve($$interface)
        return Promise.resolve(result)
      })
      .catch(function () {
        var message = 'Unable to connect to knex.  Ensure valid connection'
        console.log(message)
        reject(new Error(message))
        return Promise.reject(new Error(message))
      })
    return /* () */ 0
  })
}

exports.make = make
/* knex Not a pure module */
